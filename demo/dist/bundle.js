!function(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var o=r();for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(t,r,i){o.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(r,"a",r),r},o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},o.p="",o(o.s=2)}([function(t,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,r,o){this.factorAprendizaje=.5,this.umbral=1,this.salidaDeseada=r,this.sinapsis=0,this.error=0,this.funcionActivacion=o,this.setDatos(t)}return t.prototype.salida=function(){return this.funcionActivacion?"sigmoidal"===this.funcionActivacion?1/(1+Math.pow(Math.E,-this.sinapsis)):void 0:this.sinapsis>=0?1:0},t.prototype.reajustarPesos=function(t){for(var r=0;r<t.length;r++)t[r]+=this.factorAprendizaje*this.error*this.datos[r]},t.prototype.calcularSinapsis=function(t){this.sinapsis=0;for(var r=0;r<t.length;r++)this.sinapsis+=this.datos[r]*t[r];return this},t.prototype.calcularError=function(){return this.error=this.salidaDeseada-this.salida(),this},t.prototype.setDatos=function(t){return this.datos=t?[this.umbral].concat(t):[this.umbral],this},t.prototype.setSalidaDeseada=function(t){return this.salidaDeseada=t,this},t}();r.ProcesadorSinaptico=i},function(t,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),s=function(){function t(){this.rangoPesos={MIN:-5,MAX:4.9},this.hasError=!1,this.procesadorSinaptico=[],this.counterErrors=0,this.LIMIT_ERRORS=1e4,this.pesos=null,this.funcionActivacion=null,this.funcBack=function(){}}return t.prototype.addDatos=function(t,r){if(void 0===t[0])return this;if(void 0===t[0][0])return this.procesadorSinaptico.push(new i.ProcesadorSinaptico(t,r,this.funcionActivacion)),this;for(var o=0;o<t.length;o++)this.procesadorSinaptico.push(new i.ProcesadorSinaptico(t[o],r[o],this.funcionActivacion));return this},t.prototype.aprender=function(){if(0!==this.procesadorSinaptico.length){this.pesos||this.asignarPesos();var t=null,r=this.procesadorSinaptico.length;this.hasError=!1;for(var o=0;o<r;o++)(t=this.procesadorSinaptico[o]).calcularSinapsis(this.pesos),t.calcularError(),0!==t.error&&(this.hasError=!0,t.reajustarPesos(this.pesos),this.funcBack());if(this.hasError){if(this.counterErrors++,this.counterErrors>=this.LIMIT_ERRORS)throw this.counterErrors=0,Error("Maximum error limit reached");return this.aprender()}return this.counterErrors=0,this}},t.prototype.procesar=function(t,r){var o=new i.ProcesadorSinaptico(t,null,r);return o.calcularSinapsis(this.pesos),o.salida()},t.prototype.getPesos=function(){return this.pesos},t.prototype.setPesos=function(t){return this.pesos=t,this},t.prototype.setFuncionActivacion=function(t){return this.funcionActivacion=t,this},t.prototype.asignarPesos=function(){for(var t=this.procesadorSinaptico[0].datos.length,r=new Array(t),o=this.rangoPesos.MAX-this.rangoPesos.MIN,i=0;i<t;i++)for(;!r[i];)r[i]=parseFloat((Math.random()*o+this.rangoPesos.MIN).toFixed(4));this.setPesos(r),this.funcBack()},t}();r.Perceptron=s},function(t,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=o(1);r.Perceptron=i.Perceptron}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvY2VzYWRvclNpbmFwdGljby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGVyY2VwdHJvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlByb2Nlc2Fkb3JTaW5hcHRpY28iLCJkYXRvcyIsInNhbGlkYURlc2VhZGEiLCJmdW5jaW9uQWN0aXZhY2lvbiIsInRoaXMiLCJmYWN0b3JBcHJlbmRpemFqZSIsInVtYnJhbCIsInNpbmFwc2lzIiwiZXJyb3IiLCJzZXREYXRvcyIsInNhbGlkYSIsIk1hdGgiLCJwb3ciLCJFIiwicmVhanVzdGFyUGVzb3MiLCJwZXNvcyIsImxlbmd0aCIsImNhbGN1bGFyU2luYXBzaXMiLCJjYWxjdWxhckVycm9yIiwiY29uY2F0Iiwic2V0U2FsaWRhRGVzZWFkYSIsIlByb2Nlc2Fkb3JTaW5hcHRpY29fMSIsIlBlcmNlcHRyb24iLCJyYW5nb1Blc29zIiwiTUlOIiwiTUFYIiwiaGFzRXJyb3IiLCJwcm9jZXNhZG9yU2luYXB0aWNvIiwiY291bnRlckVycm9ycyIsIkxJTUlUX0VSUk9SUyIsImZ1bmNCYWNrIiwiYWRkRGF0b3MiLCJ1bmRlZmluZWQiLCJwdXNoIiwiYXByZW5kZXIiLCJhc2lnbmFyUGVzb3MiLCJsZW4iLCJFcnJvciIsInByb2Nlc2FyIiwiZ2V0UGVzb3MiLCJzZXRQZXNvcyIsInBlc29zU2luYXB0aWNvcyIsInNldEZ1bmNpb25BY3RpdmFjaW9uIiwiQXJyYXkiLCJyYW5nbyIsInBhcnNlRmxvYXQiLCJyYW5kb20iLCJ0b0ZpeGVkIiwiUGVyY2VwdHJvbl8xIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG9CQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxTQUNBLHNCQUFBRyxlQUFBQyxJQUNBRCxVQUFBSCxPQUNBLENBQ0EsSUFBQUssRUFBQUwsSUFDQSxRQUFBTSxLQUFBRCxHQUFBLGlCQUFBSixnQkFBQUYsR0FBQU8sR0FBQUQsRUFBQUMsSUFQQSxDQVNDQyxPQUFBLFdBQ0QsbUJDVEEsSUFBQUMsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVQsUUFHQSxJQUFBQyxFQUFBTSxFQUFBRSxJQUNBSixFQUFBSSxFQUNBQyxHQUFBLEVBQ0FWLFlBVUEsT0FOQVcsRUFBQUYsR0FBQUcsS0FBQVgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQVEsR0FHQVAsRUFBQVMsR0FBQSxFQUdBVCxFQUFBRCxRQTJDQSxPQXRDQVEsRUFBQUssRUFBQUYsRUFHQUgsRUFBQU0sRUFBQVAsRUFHQUMsRUFBQU8sRUFBQSxTQUFBZixFQUFBZ0IsRUFBQUMsR0FDQVQsRUFBQVUsRUFBQWxCLEVBQUFnQixJQUNBRyxPQUFBQyxlQUFBcEIsRUFBQWdCLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BVCxFQUFBZ0IsRUFBQSxTQUFBeEIsR0FDQW1CLE9BQUFDLGVBQUFwQixFQUFBLGNBQWlEeUIsT0FBQSxLQUlqRGpCLEVBQUFrQixFQUFBLFNBQUF6QixHQUNBLElBQUFn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QyxLQUFLbUMsU0FBV0YsRUFBUXhDLEtBQUttQixXQUFXQyxLQUFLdUIsUUFBUSxJQUtsRTNDLEtBQUtvQyxTQUFTekIsR0FDZFgsS0FBSzBCLFlBRWJSLEVBMUlBLEdBQWF4RCxFQUFBd0QsNEZDRmIsSUFBQTBCLEVBQUExRSxFQUFBLEdBRVNSLEVBQUF3RCxXQUZBMEIsRUFBQTFCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJleHBvcnQgY2xhc3MgUHJvY2VzYWRvclNpbmFwdGljbyB7XG4gICAgZnVuY2lvbkFjdGl2YWNpb246IGFueTtcbiAgICBlcnJvcjogbnVtYmVyO1xuICAgIHNpbmFwc2lzOiBudW1iZXI7XG4gICAgc2FsaWRhRGVzZWFkYTogYW55O1xuICAgIGRhdG9zOiBudW1iZXJbXTtcbiAgICB1bWJyYWw6IG51bWJlcjtcbiAgICBmYWN0b3JBcHJlbmRpemFqZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZGF0b3MsIHNhbGlkYURlc2VhZGEsIGZ1bmNpb25BY3RpdmFjaW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yQXByZW5kaXphamUgPSAwLjU7XG4gICAgICAgIHRoaXMudW1icmFsID0gMTtcblxuICAgICAgICB0aGlzLnNhbGlkYURlc2VhZGEgPSBzYWxpZGFEZXNlYWRhO1xuICAgICAgICB0aGlzLnNpbmFwc2lzID0gMDtcbiAgICAgICAgdGhpcy5lcnJvciA9IDA7XG4gICAgICAgIHRoaXMuZnVuY2lvbkFjdGl2YWNpb24gPSBmdW5jaW9uQWN0aXZhY2lvbjtcblxuICAgICAgICB0aGlzLnNldERhdG9zKGRhdG9zKTsgICAgICAgIFxuICAgIH1cblxuICAgIHNhbGlkYSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZ1bmNpb25BY3RpdmFjaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaW5hcHNpcyA+PSAwID8gMSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvL0Z1bmNpb24gZGUgYWN0aXZhY2lvbiBzaWdtb2lkYWwgYmluYXJpYVxuICAgICAgICBpZiAodGhpcy5mdW5jaW9uQWN0aXZhY2lvbiA9PT0gJ3NpZ21vaWRhbCcpIHtcbiAgICAgICAgICAgIHJldHVybiAxIC8gKDEgKyBNYXRoLnBvdyhNYXRoLkUsIC10aGlzLnNpbmFwc2lzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWFqdXN0YXJQZXNvcyhwZXNvcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlc29zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwZXNvc1tpXSArPSB0aGlzLmZhY3RvckFwcmVuZGl6YWplICogdGhpcy5lcnJvciAqIHRoaXMuZGF0b3NbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjdWxhclNpbmFwc2lzKHBlc29zKSB7XG4gICAgICAgIHRoaXMuc2luYXBzaXMgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGVzb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2luYXBzaXMgKz0gdGhpcy5kYXRvc1tpXSAqIHBlc29zW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2FsY3VsYXJFcnJvcigpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMuc2FsaWRhRGVzZWFkYSAtIHRoaXMuc2FsaWRhKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0RGF0b3MoZGF0b3MpIHtcbiAgICAgICAgdGhpcy5kYXRvcyA9IGRhdG9zID8gW3RoaXMudW1icmFsXS5jb25jYXQoZGF0b3MpIDogW3RoaXMudW1icmFsXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRTYWxpZGFEZXNlYWRhKHNhbGlkYURlc2VhZGEpIHtcbiAgICAgICAgdGhpcy5zYWxpZGFEZXNlYWRhID0gc2FsaWRhRGVzZWFkYTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQcm9jZXNhZG9yU2luYXB0aWNvIH0gZnJvbSAnLi9Qcm9jZXNhZG9yU2luYXB0aWNvJztcblxuZXhwb3J0IGNsYXNzIFBlcmNlcHRyb24ge1xuICAgIExJTUlUX0VSUk9SUzogbnVtYmVyO1xuICAgIGNvdW50ZXJFcnJvcnM6IG51bWJlcjtcbiAgICBwcm9jZXNhZG9yU2luYXB0aWNvOiBQcm9jZXNhZG9yU2luYXB0aWNvW107XG4gICAgaGFzRXJyb3I6IGJvb2xlYW47XG4gICAgcGVzb3M6IGFueTtcbiAgICByYW5nb1Blc29zOiB7IE1JTjogbnVtYmVyOyBNQVg6IG51bWJlciB9O1xuXG4gICAgcHJpdmF0ZSBmdW5jQmFjazogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGZ1bmNpb25BY3RpdmFjaW9uOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yYW5nb1Blc29zID0geyBNSU46IC01LCBNQVg6IDQuOSB9O1xuICAgICAgICB0aGlzLmhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2VzYWRvclNpbmFwdGljbyA9IFtdO1xuXG4gICAgICAgIHRoaXMuY291bnRlckVycm9ycyA9IDA7XG4gICAgICAgIHRoaXMuTElNSVRfRVJST1JTID0gMTAwMDA7XG5cbiAgICAgICAgdGhpcy5wZXNvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZnVuY2lvbkFjdGl2YWNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmZ1bmNCYWNrID0gKCkgPT4ge307XG4gICAgfVxuXG4gICAgYWRkRGF0b3MoZGF0b3MsIHNhbGlkYSkge1xuICAgICAgICBpZiAoZGF0b3NbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0b3NbMF1bMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNhZG9yU2luYXB0aWNvLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFByb2Nlc2Fkb3JTaW5hcHRpY28oZGF0b3MsIHNhbGlkYSwgdGhpcy5mdW5jaW9uQWN0aXZhY2lvbilcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNhZG9yU2luYXB0aWNvLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFByb2Nlc2Fkb3JTaW5hcHRpY28oXG4gICAgICAgICAgICAgICAgICAgIGRhdG9zW2ldLFxuICAgICAgICAgICAgICAgICAgICBzYWxpZGFbaV0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnVuY2lvbkFjdGl2YWNpb25cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYXByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc2Fkb3JTaW5hcHRpY28ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGVzb3MpIHtcbiAgICAgICAgICAgIHRoaXMuYXNpZ25hclBlc29zKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvY2VzYWRvclNpbmFwdGljbyA9IG51bGw7XG4gICAgICAgIGxldCBsZW4gPSB0aGlzLnByb2Nlc2Fkb3JTaW5hcHRpY28ubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBwcm9jZXNhZG9yU2luYXB0aWNvID0gdGhpcy5wcm9jZXNhZG9yU2luYXB0aWNvW2ldO1xuXG4gICAgICAgICAgICBwcm9jZXNhZG9yU2luYXB0aWNvLmNhbGN1bGFyU2luYXBzaXModGhpcy5wZXNvcyk7XG4gICAgICAgICAgICBwcm9jZXNhZG9yU2luYXB0aWNvLmNhbGN1bGFyRXJyb3IoKTtcblxuICAgICAgICAgICAgaWYgKHByb2Nlc2Fkb3JTaW5hcHRpY28uZXJyb3IgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9jZXNhZG9yU2luYXB0aWNvLnJlYWp1c3RhclBlc29zKHRoaXMucGVzb3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnVuY0JhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJFcnJvcnMrKztcblxuICAgICAgICAgICAgaWYgKHRoaXMuY291bnRlckVycm9ycyA+PSB0aGlzLkxJTUlUX0VSUk9SUykge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlckVycm9ycyA9IDA7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignTWF4aW11bSBlcnJvciBsaW1pdCByZWFjaGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ZXJFcnJvcnMgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByb2Nlc2FyKGRhdG9zLCBmdW5jaW9uQWN0aXZhY2lvbj8pIHtcbiAgICAgICAgbGV0IHByb2Nlc2Fkb3JTaW5hcHRpY28gPSBuZXcgUHJvY2VzYWRvclNpbmFwdGljbyhcbiAgICAgICAgICAgIGRhdG9zLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZ1bmNpb25BY3RpdmFjaW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgcHJvY2VzYWRvclNpbmFwdGljby5jYWxjdWxhclNpbmFwc2lzKHRoaXMucGVzb3MpO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNhZG9yU2luYXB0aWNvLnNhbGlkYSgpO1xuICAgIH1cblxuICAgIGdldFBlc29zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXNvcztcbiAgICB9XG5cbiAgICBzZXRQZXNvcyhwZXNvc1NpbmFwdGljb3MpIHtcbiAgICAgICAgdGhpcy5wZXNvcyA9IHBlc29zU2luYXB0aWNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRGdW5jaW9uQWN0aXZhY2lvbihmdW5jaW9uQWN0aXZhY2lvbikge1xuICAgICAgICB0aGlzLmZ1bmNpb25BY3RpdmFjaW9uID0gZnVuY2lvbkFjdGl2YWNpb247XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc2lnbmFyUGVzb3MoKSB7XG4gICAgICAgIGxldCBsZW4gPSB0aGlzLnByb2Nlc2Fkb3JTaW5hcHRpY29bMF0uZGF0b3MubGVuZ3RoO1xuICAgICAgICBsZXQgcGVzb3MgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgbGV0IHJhbmdvID0gdGhpcy5yYW5nb1Blc29zLk1BWCAtIHRoaXMucmFuZ29QZXNvcy5NSU47XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgd2hpbGUgKCFwZXNvc1tpXSkge1xuICAgICAgICAgICAgICAgIHBlc29zW2ldID0gcGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgICAgICAgKE1hdGgucmFuZG9tKCkgKiByYW5nbyArIHRoaXMucmFuZ29QZXNvcy5NSU4pLnRvRml4ZWQoNClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRQZXNvcyhwZXNvcyk7XG4gICAgICAgIHRoaXMuZnVuY0JhY2soKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQZXJjZXB0cm9uIH0gZnJvbSAnLi9QZXJjZXB0cm9uJztcblxuZXhwb3J0IHsgUGVyY2VwdHJvbiB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==